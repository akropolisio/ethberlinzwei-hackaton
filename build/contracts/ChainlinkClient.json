{"fileName":"ChainlinkClient.sol","contractName":"ChainlinkClient","source":"pragma solidity ^0.5.0;\n\nimport \"./Chainlink.sol\";\nimport \"./interfaces/ENSInterface.sol\";\nimport \"./interfaces/LinkTokenInterface.sol\";\nimport \"./interfaces/ChainlinkRequestInterface.sol\";\nimport \"./interfaces/PointerInterface.sol\";\nimport { ENSResolver as ENSResolver_Chainlink } from \"./vendor/ENSResolver.sol\";\nimport { SafeMath as SafeMath_Chainlink } from \"./vendor/SafeMath.sol\";\n\n/**\n * @title The ChainlinkClient contract\n * @notice Contract writers can inherit this contract in order to create requests for the\n * Chainlink network\n */\ncontract ChainlinkClient {\n  using Chainlink for Chainlink.Request;\n  using SafeMath_Chainlink for uint256;\n\n  uint256 constant internal LINK = 10**18;\n  uint256 constant private AMOUNT_OVERRIDE = 0;\n  address constant private SENDER_OVERRIDE = address(0);\n  uint256 constant private ARGS_VERSION = 1;\n  bytes32 constant private ENS_TOKEN_SUBNAME = keccak256(\"link\");\n  bytes32 constant private ENS_ORACLE_SUBNAME = keccak256(\"oracle\");\n  address constant private LINK_TOKEN_POINTER = 0xC89bD4E1632D3A43CB03AAAd5262cbe4038Bc571;\n\n  ENSInterface private ens;\n  bytes32 private ensNode;\n  LinkTokenInterface private link;\n  ChainlinkRequestInterface private oracle;\n  uint256 private requests = 1;\n  mapping(bytes32 => address) private pendingRequests;\n\n  event ChainlinkRequested(bytes32 indexed id);\n  event ChainlinkFulfilled(bytes32 indexed id);\n  event ChainlinkCancelled(bytes32 indexed id);\n\n  /**\n   * @notice Creates a request that can hold additional parameters\n   * @param _specId The Job Specification ID that the request will be created for\n   * @param _callbackAddress The callback address that the response will be sent to\n   * @param _callbackFunctionSignature The callback function signature to use for the callback address\n   * @return A Chainlink Request struct in memory\n   */\n  function buildChainlinkRequest(\n    bytes32 _specId,\n    address _callbackAddress,\n    bytes4 _callbackFunctionSignature\n  ) internal pure returns (Chainlink.Request memory) {\n    Chainlink.Request memory req;\n    return req.initialize(_specId, _callbackAddress, _callbackFunctionSignature);\n  }\n\n  /**\n   * @notice Creates a Chainlink request to the stored oracle address\n   * @dev Calls `chainlinkRequestTo` with the stored oracle address\n   * @param _req The initialized Chainlink Request\n   * @param _payment The amount of LINK to send for the request\n   * @return The request ID\n   */\n  function sendChainlinkRequest(Chainlink.Request memory _req, uint256 _payment)\n    internal\n    returns (bytes32)\n  {\n    return sendChainlinkRequestTo(address(oracle), _req, _payment);\n  }\n\n  /**\n   * @notice Creates a Chainlink request to the specified oracle address\n   * @dev Generates and stores a request ID, increments the local nonce, and uses `transferAndCall` to\n   * send LINK which creates a request on the target oracle contract.\n   * Emits ChainlinkRequested event.\n   * @param _oracle The address of the oracle for the request\n   * @param _req The initialized Chainlink Request\n   * @param _payment The amount of LINK to send for the request\n   * @return The request ID\n   */\n  function sendChainlinkRequestTo(address _oracle, Chainlink.Request memory _req, uint256 _payment)\n    internal\n    returns (bytes32 requestId)\n  {\n    requestId = keccak256(abi.encodePacked(this, requests));\n    _req.nonce = requests;\n    pendingRequests[requestId] = _oracle;\n    emit ChainlinkRequested(requestId);\n    require(link.transferAndCall(_oracle, _payment, encodeRequest(_req)), \"unable to transferAndCall to oracle\");\n    requests += 1;\n\n    return requestId;\n  }\n\n  /**\n   * @notice Allows a request to be cancelled if it has not been fulfilled\n   * @dev Requires keeping track of the expiration value emitted from the oracle contract.\n   * Deletes the request from the `pendingRequests` mapping.\n   * Emits ChainlinkCancelled event.\n   * @param _requestId The request ID\n   * @param _payment The amount of LINK sent for the request\n   * @param _callbackFunc The callback function specified for the request\n   * @param _expiration The time of the expiration for the request\n   */\n  function cancelChainlinkRequest(\n    bytes32 _requestId,\n    uint256 _payment,\n    bytes4 _callbackFunc,\n    uint256 _expiration\n  )\n    internal\n  {\n    ChainlinkRequestInterface requested = ChainlinkRequestInterface(pendingRequests[_requestId]);\n    delete pendingRequests[_requestId];\n    emit ChainlinkCancelled(_requestId);\n    requested.cancelOracleRequest(_requestId, _payment, _callbackFunc, _expiration);\n  }\n\n  /**\n   * @notice Sets the stored oracle address\n   * @param _oracle The address of the oracle contract\n   */\n  function setChainlinkOracle(address _oracle) internal {\n    oracle = ChainlinkRequestInterface(_oracle);\n  }\n\n  /**\n   * @notice Sets the LINK token address\n   * @param _link The address of the LINK token contract\n   */\n  function setChainlinkToken(address _link) internal {\n    link = LinkTokenInterface(_link);\n  }\n\n  /**\n   * @notice Sets the Chainlink token address for the public\n   * network as given by the Pointer contract\n   */\n  function setPublicChainlinkToken() internal {\n    setChainlinkToken(PointerInterface(LINK_TOKEN_POINTER).getAddress());\n  }\n\n  /**\n   * @notice Retrieves the stored address of the LINK token\n   * @return The address of the LINK token\n   */\n  function chainlinkTokenAddress()\n    internal\n    view\n    returns (address)\n  {\n    return address(link);\n  }\n\n  /**\n   * @notice Retrieves the stored address of the oracle contract\n   * @return The address of the oracle contract\n   */\n  function chainlinkOracleAddress()\n    internal\n    view\n    returns (address)\n  {\n    return address(oracle);\n  }\n\n  /**\n   * @notice Allows for a request which was created on another contract to be fulfilled\n   * on this contract\n   * @param _oracle The address of the oracle contract that will fulfill the request\n   * @param _requestId The request ID used for the response\n   */\n  function addChainlinkExternalRequest(address _oracle, bytes32 _requestId)\n    internal\n    notPendingRequest(_requestId)\n  {\n    pendingRequests[_requestId] = _oracle;\n  }\n\n  /**\n   * @notice Sets the stored oracle and LINK token contracts with the addresses resolved by ENS\n   * @dev Accounts for subnodes having different resolvers\n   * @param _ens The address of the ENS contract\n   * @param _node The ENS node hash\n   */\n  function useChainlinkWithENS(address _ens, bytes32 _node)\n    internal\n  {\n    ens = ENSInterface(_ens);\n    ensNode = _node;\n    bytes32 linkSubnode = keccak256(abi.encodePacked(ensNode, ENS_TOKEN_SUBNAME));\n    ENSResolver_Chainlink resolver = ENSResolver_Chainlink(ens.resolver(linkSubnode));\n    setChainlinkToken(resolver.addr(linkSubnode));\n    updateChainlinkOracleWithENS();\n  }\n\n  /**\n   * @notice Sets the stored oracle contract with the address resolved by ENS\n   * @dev This may be called on its own as long as `useChainlinkWithENS` has been called previously\n   */\n  function updateChainlinkOracleWithENS()\n    internal\n  {\n    bytes32 oracleSubnode = keccak256(abi.encodePacked(ensNode, ENS_ORACLE_SUBNAME));\n    ENSResolver_Chainlink resolver = ENSResolver_Chainlink(ens.resolver(oracleSubnode));\n    setChainlinkOracle(resolver.addr(oracleSubnode));\n  }\n\n  /**\n   * @notice Encodes the request to be sent to the oracle contract\n   * @dev The Chainlink node expects values to be in order for the request to be picked up. Order of types\n   * will be validated in the oracle contract.\n   * @param _req The initialized Chainlink Request\n   * @return The bytes payload for the `transferAndCall` method\n   */\n  function encodeRequest(Chainlink.Request memory _req)\n    private\n    view\n    returns (bytes memory)\n  {\n    return abi.encodeWithSelector(\n      oracle.oracleRequest.selector,\n      SENDER_OVERRIDE, // Sender value - overridden by onTokenTransfer by the requesting contract's address\n      AMOUNT_OVERRIDE, // Amount value - overridden by onTokenTransfer by the actual amount of LINK sent\n      _req.id,\n      _req.callbackAddress,\n      _req.callbackFunctionId,\n      _req.nonce,\n      ARGS_VERSION,\n      _req.buf.buf);\n  }\n\n  /**\n   * @notice Ensures that the fulfillment is valid for this contract\n   * @dev Use if the contract developer prefers methods instead of modifiers for validation\n   * @param _requestId The request ID for fulfillment\n   */\n  function validateChainlinkCallback(bytes32 _requestId)\n    internal\n    recordChainlinkFulfillment(_requestId)\n    // solhint-disable-next-line no-empty-blocks\n  {}\n\n  /**\n   * @dev Reverts if the sender is not the oracle of the request.\n   * Emits ChainlinkFulfilled event.\n   * @param _requestId The request ID for fulfillment\n   */\n  modifier recordChainlinkFulfillment(bytes32 _requestId) {\n    require(msg.sender == pendingRequests[_requestId], \"Source must be the oracle of the request\");\n    delete pendingRequests[_requestId];\n    emit ChainlinkFulfilled(_requestId);\n    _;\n  }\n\n  /**\n   * @dev Reverts if the request is already pending\n   * @param _requestId The request ID for fulfillment\n   */\n  modifier notPendingRequest(bytes32 _requestId) {\n    require(pendingRequests[_requestId] == address(0), \"Request is already pending\");\n    _;\n  }\n}\n","sourcePath":"chainlink/v0.5/contracts/ChainlinkClient.sol","sourceMap":"546:8675:15:-;;;1239:1;1212:28;;;;;;546:8675;8:9:-1;5:2;;;30:1;27;20:12;5:2;546:8675:15;;;;;;;;;;","deployedSourceMap":"546:8675:15:-;;;;;;;;;;;","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkFulfilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkCancelled","type":"event"}],"ast":{"absolutePath":"chainlink/v0.5/contracts/ChainlinkClient.sol","exportedSymbols":{"ChainlinkClient":[2300]},"id":2301,"nodeType":"SourceUnit","nodes":[{"id":1862,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:15"},{"absolutePath":"chainlink/v0.5/contracts/Chainlink.sol","file":"./Chainlink.sol","id":1863,"nodeType":"ImportDirective","scope":2301,"sourceUnit":1861,"src":"25:25:15","symbolAliases":[],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/interfaces/ENSInterface.sol","file":"./interfaces/ENSInterface.sol","id":1864,"nodeType":"ImportDirective","scope":2301,"sourceUnit":2414,"src":"51:39:15","symbolAliases":[],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/interfaces/LinkTokenInterface.sol","file":"./interfaces/LinkTokenInterface.sol","id":1865,"nodeType":"ImportDirective","scope":2301,"sourceUnit":2509,"src":"91:45:15","symbolAliases":[],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/interfaces/ChainlinkRequestInterface.sol","file":"./interfaces/ChainlinkRequestInterface.sol","id":1866,"nodeType":"ImportDirective","scope":2301,"sourceUnit":2334,"src":"137:52:15","symbolAliases":[],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/interfaces/PointerInterface.sol","file":"./interfaces/PointerInterface.sol","id":1867,"nodeType":"ImportDirective","scope":2301,"sourceUnit":2517,"src":"190:43:15","symbolAliases":[],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/vendor/ENSResolver.sol","file":"./vendor/ENSResolver.sol","id":1869,"nodeType":"ImportDirective","scope":2301,"sourceUnit":3301,"src":"234:80:15","symbolAliases":[{"foreign":1868,"local":"ENSResolver_Chainlink"}],"unitAlias":""},{"absolutePath":"chainlink/v0.5/contracts/vendor/SafeMath.sol","file":"./vendor/SafeMath.sol","id":1871,"nodeType":"ImportDirective","scope":2301,"sourceUnit":3434,"src":"315:71:15","symbolAliases":[{"foreign":1870,"local":"SafeMath_Chainlink"}],"unitAlias":""},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":"@title The ChainlinkClient contract\n@notice Contract writers can inherit this contract in order to create requests for the\nChainlink network","fullyImplemented":true,"id":2300,"linearizedBaseContracts":[2300],"name":"ChainlinkClient","nodeType":"ContractDefinition","nodes":[{"id":1874,"libraryName":{"contractScope":null,"id":1872,"name":"Chainlink","nodeType":"UserDefinedTypeName","referencedDeclaration":1860,"src":"581:9:15","typeDescriptions":{"typeIdentifier":"t_contract$_Chainlink_$1860","typeString":"library Chainlink"}},"nodeType":"UsingForDirective","src":"575:38:15","typeName":{"contractScope":null,"id":1873,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"595:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}}},{"id":1877,"libraryName":{"contractScope":null,"id":1875,"name":"SafeMath_Chainlink","nodeType":"UserDefinedTypeName","referencedDeclaration":3433,"src":"622:18:15","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$3433","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"616:37:15","typeName":{"id":1876,"name":"uint256","nodeType":"ElementaryTypeName","src":"645:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":1882,"name":"LINK","nodeType":"VariableDeclaration","scope":2300,"src":"657:39:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1878,"name":"uint256","nodeType":"ElementaryTypeName","src":"657:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":1881,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":1879,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"690:2:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":1880,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"694:2:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"690:6:15","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"internal"},{"constant":true,"id":1885,"name":"AMOUNT_OVERRIDE","nodeType":"VariableDeclaration","scope":2300,"src":"700:44:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1883,"name":"uint256","nodeType":"ElementaryTypeName","src":"700:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"hexValue":"30","id":1884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"743:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"private"},{"constant":true,"id":1890,"name":"SENDER_OVERRIDE","nodeType":"VariableDeclaration","scope":2300,"src":"748:53:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1886,"name":"address","nodeType":"ElementaryTypeName","src":"748:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1888,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"799:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1887,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"791:7:15","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1889,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"791:10:15","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"private"},{"constant":true,"id":1893,"name":"ARGS_VERSION","nodeType":"VariableDeclaration","scope":2300,"src":"805:41:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1891,"name":"uint256","nodeType":"ElementaryTypeName","src":"805:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"hexValue":"31","id":1892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"845:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"private"},{"constant":true,"id":1898,"name":"ENS_TOKEN_SUBNAME","nodeType":"VariableDeclaration","scope":2300,"src":"850:62:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1894,"name":"bytes32","nodeType":"ElementaryTypeName","src":"850:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"6c696e6b","id":1896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"905:6:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_90430203e2d9ce04f00738d355173358b054545ecb52218de9c6fb01cbd9aeaf","typeString":"literal_string \"link\""},"value":"link"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_90430203e2d9ce04f00738d355173358b054545ecb52218de9c6fb01cbd9aeaf","typeString":"literal_string \"link\""}],"id":1895,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5505,"src":"895:9:15","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1897,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"895:17:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"private"},{"constant":true,"id":1903,"name":"ENS_ORACLE_SUBNAME","nodeType":"VariableDeclaration","scope":2300,"src":"916:65:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1899,"name":"bytes32","nodeType":"ElementaryTypeName","src":"916:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"6f7261636c65","id":1901,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"972:8:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_89cbf5af14e0328a3cd3a734f92c3832d729d431da79b7873a62cbeebd37beb6","typeString":"literal_string \"oracle\""},"value":"oracle"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_89cbf5af14e0328a3cd3a734f92c3832d729d431da79b7873a62cbeebd37beb6","typeString":"literal_string \"oracle\""}],"id":1900,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5505,"src":"962:9:15","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1902,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"962:19:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"private"},{"constant":true,"id":1906,"name":"LINK_TOKEN_POINTER","nodeType":"VariableDeclaration","scope":2300,"src":"985:88:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1904,"name":"address","nodeType":"ElementaryTypeName","src":"985:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":{"argumentTypes":null,"hexValue":"307843383962443445313633324433413433434230334141416435323632636265343033384263353731","id":1905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1031:42:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"value":"0xC89bD4E1632D3A43CB03AAAd5262cbe4038Bc571"},"visibility":"private"},{"constant":false,"id":1908,"name":"ens","nodeType":"VariableDeclaration","scope":2300,"src":"1078:24:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"},"typeName":{"contractScope":null,"id":1907,"name":"ENSInterface","nodeType":"UserDefinedTypeName","referencedDeclaration":2413,"src":"1078:12:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"value":null,"visibility":"private"},{"constant":false,"id":1910,"name":"ensNode","nodeType":"VariableDeclaration","scope":2300,"src":"1106:23:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1909,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1106:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"private"},{"constant":false,"id":1912,"name":"link","nodeType":"VariableDeclaration","scope":2300,"src":"1133:31:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"},"typeName":{"contractScope":null,"id":1911,"name":"LinkTokenInterface","nodeType":"UserDefinedTypeName","referencedDeclaration":2508,"src":"1133:18:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}},"value":null,"visibility":"private"},{"constant":false,"id":1914,"name":"oracle","nodeType":"VariableDeclaration","scope":2300,"src":"1168:40:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"},"typeName":{"contractScope":null,"id":1913,"name":"ChainlinkRequestInterface","nodeType":"UserDefinedTypeName","referencedDeclaration":2333,"src":"1168:25:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"value":null,"visibility":"private"},{"constant":false,"id":1917,"name":"requests","nodeType":"VariableDeclaration","scope":2300,"src":"1212:28:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1915,"name":"uint256","nodeType":"ElementaryTypeName","src":"1212:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"hexValue":"31","id":1916,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1239:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"private"},{"constant":false,"id":1921,"name":"pendingRequests","nodeType":"VariableDeclaration","scope":2300,"src":"1244:51:15","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"typeName":{"id":1920,"keyType":{"id":1918,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1252:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1244:27:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"},"valueType":{"id":1919,"name":"address","nodeType":"ElementaryTypeName","src":"1263:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},"value":null,"visibility":"private"},{"anonymous":false,"documentation":null,"id":1925,"name":"ChainlinkRequested","nodeType":"EventDefinition","parameters":{"id":1924,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1923,"indexed":true,"name":"id","nodeType":"VariableDeclaration","scope":1925,"src":"1325:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1922,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1325:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1324:20:15"},"src":"1300:45:15"},{"anonymous":false,"documentation":null,"id":1929,"name":"ChainlinkFulfilled","nodeType":"EventDefinition","parameters":{"id":1928,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1927,"indexed":true,"name":"id","nodeType":"VariableDeclaration","scope":1929,"src":"1373:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1926,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1373:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1372:20:15"},"src":"1348:45:15"},{"anonymous":false,"documentation":null,"id":1933,"name":"ChainlinkCancelled","nodeType":"EventDefinition","parameters":{"id":1932,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1931,"indexed":true,"name":"id","nodeType":"VariableDeclaration","scope":1933,"src":"1421:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1930,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1421:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1420:20:15"},"src":"1396:45:15"},{"body":{"id":1956,"nodeType":"Block","src":"2017:121:15","statements":[{"assignments":[1947],"declarations":[{"constant":false,"id":1947,"name":"req","nodeType":"VariableDeclaration","scope":1956,"src":"2023:28:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request"},"typeName":{"contractScope":null,"id":1946,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"2023:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}},"value":null,"visibility":"internal"}],"id":1948,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"2023:28:15"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1951,"name":"_specId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1935,"src":"2079:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1952,"name":"_callbackAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"2088:16:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1953,"name":"_callbackFunctionSignature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1939,"src":"2106:26:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"argumentTypes":null,"id":1949,"name":"req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1947,"src":"2064:3:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":1950,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"initialize","nodeType":"MemberAccess","referencedDeclaration":1674,"src":"2064:14:15","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_Request_$1632_memory_ptr_$_t_bytes32_$_t_address_$_t_bytes4_$returns$_t_struct$_Request_$1632_memory_ptr_$bound_to$_t_struct$_Request_$1632_memory_ptr_$","typeString":"function (struct Chainlink.Request memory,bytes32,address,bytes4) pure returns (struct Chainlink.Request memory)"}},"id":1954,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2064:69:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"functionReturnParameters":1943,"id":1955,"nodeType":"Return","src":"2057:76:15"}]},"documentation":"@notice Creates a request that can hold additional parameters\n@param _specId The Job Specification ID that the request will be created for\n@param _callbackAddress The callback address that the response will be sent to\n@param _callbackFunctionSignature The callback function signature to use for the callback address\n@return A Chainlink Request struct in memory","id":1957,"implemented":true,"kind":"function","modifiers":[],"name":"buildChainlinkRequest","nodeType":"FunctionDefinition","parameters":{"id":1940,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1935,"name":"_specId","nodeType":"VariableDeclaration","scope":1957,"src":"1879:15:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1934,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1879:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1937,"name":"_callbackAddress","nodeType":"VariableDeclaration","scope":1957,"src":"1900:24:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1936,"name":"address","nodeType":"ElementaryTypeName","src":"1900:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1939,"name":"_callbackFunctionSignature","nodeType":"VariableDeclaration","scope":1957,"src":"1930:33:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":1938,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1930:6:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"1873:94:15"},"returnParameters":{"id":1943,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1942,"name":"","nodeType":"VariableDeclaration","scope":1957,"src":"1991:24:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request"},"typeName":{"contractScope":null,"id":1941,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"1991:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}},"value":null,"visibility":"internal"}],"src":"1990:26:15"},"scope":2300,"src":"1843:295:15","stateMutability":"pure","superFunction":null,"visibility":"internal"},{"body":{"id":1974,"nodeType":"Block","src":"2551:73:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1968,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1914,"src":"2595:6:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}],"id":1967,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2587:7:15","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1969,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2587:15:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1970,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1959,"src":"2604:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},{"argumentTypes":null,"id":1971,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1961,"src":"2610:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1966,"name":"sendChainlinkRequestTo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2031,"src":"2564:22:15","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_Request_$1632_memory_ptr_$_t_uint256_$returns$_t_bytes32_$","typeString":"function (address,struct Chainlink.Request memory,uint256) returns (bytes32)"}},"id":1972,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2564:55:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":1965,"id":1973,"nodeType":"Return","src":"2557:62:15"}]},"documentation":"@notice Creates a Chainlink request to the stored oracle address\n@dev Calls `chainlinkRequestTo` with the stored oracle address\n@param _req The initialized Chainlink Request\n@param _payment The amount of LINK to send for the request\n@return The request ID","id":1975,"implemented":true,"kind":"function","modifiers":[],"name":"sendChainlinkRequest","nodeType":"FunctionDefinition","parameters":{"id":1962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1959,"name":"_req","nodeType":"VariableDeclaration","scope":1975,"src":"2465:29:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request"},"typeName":{"contractScope":null,"id":1958,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"2465:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}},"value":null,"visibility":"internal"},{"constant":false,"id":1961,"name":"_payment","nodeType":"VariableDeclaration","scope":1975,"src":"2496:16:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1960,"name":"uint256","nodeType":"ElementaryTypeName","src":"2496:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2464:49:15"},"returnParameters":{"id":1965,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1964,"name":"","nodeType":"VariableDeclaration","scope":1975,"src":"2540:7:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1963,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2540:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2539:9:15"},"scope":2300,"src":"2435:189:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2030,"nodeType":"Block","src":"3273:331:15","statements":[{"expression":{"argumentTypes":null,"id":1994,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1986,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1984,"src":"3279:9:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1990,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5571,"src":"3318:4:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkClient_$2300","typeString":"contract ChainlinkClient"}},{"argumentTypes":null,"id":1991,"name":"requests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1917,"src":"3324:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ChainlinkClient_$2300","typeString":"contract ChainlinkClient"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1988,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5498,"src":"3301:3:15","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1989,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3301:16:15","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1992,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3301:32:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1987,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5505,"src":"3291:9:15","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1993,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3291:43:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3279:55:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1995,"nodeType":"ExpressionStatement","src":"3279:55:15"},{"expression":{"argumentTypes":null,"id":2000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1996,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1979,"src":"3340:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":1998,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"nonce","nodeType":"MemberAccess","referencedDeclaration":1629,"src":"3340:10:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1999,"name":"requests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1917,"src":"3353:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3340:21:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2001,"nodeType":"ExpressionStatement","src":"3340:21:15"},{"expression":{"argumentTypes":null,"id":2006,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2002,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"3367:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2004,"indexExpression":{"argumentTypes":null,"id":2003,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1984,"src":"3383:9:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3367:26:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2005,"name":"_oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1977,"src":"3396:7:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3367:36:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2007,"nodeType":"ExpressionStatement","src":"3367:36:15"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2009,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1984,"src":"3433:9:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2008,"name":"ChainlinkRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1925,"src":"3414:18:15","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":2010,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3414:29:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2011,"nodeType":"EmitStatement","src":"3409:34:15"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2015,"name":"_oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1977,"src":"3478:7:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2016,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1981,"src":"3487:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2018,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1979,"src":"3511:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}],"id":2017,"name":"encodeRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"3497:13:15","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Request_$1632_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (struct Chainlink.Request memory) view returns (bytes memory)"}},"id":2019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3497:19:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":2013,"name":"link","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1912,"src":"3457:4:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}},"id":2014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferAndCall","nodeType":"MemberAccess","referencedDeclaration":2496,"src":"3457:20:15","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$","typeString":"function (address,uint256,bytes memory) external returns (bool)"}},"id":2020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3457:60:15","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"756e61626c6520746f207472616e73666572416e6443616c6c20746f206f7261636c65","id":2021,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3519:37:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_3b3efd608222b424e5ed8427d7f6a272069793e6a1f5930c93db5c7960c3ce96","typeString":"literal_string \"unable to transferAndCall to oracle\""},"value":"unable to transferAndCall to oracle"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_3b3efd608222b424e5ed8427d7f6a272069793e6a1f5930c93db5c7960c3ce96","typeString":"literal_string \"unable to transferAndCall to oracle\""}],"id":2012,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5514,5515],"referencedDeclaration":5515,"src":"3449:7:15","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3449:108:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2023,"nodeType":"ExpressionStatement","src":"3449:108:15"},{"expression":{"argumentTypes":null,"id":2026,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2024,"name":"requests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1917,"src":"3563:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2025,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3575:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3563:13:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2027,"nodeType":"ExpressionStatement","src":"3563:13:15"},{"expression":{"argumentTypes":null,"id":2028,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1984,"src":"3590:9:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":1985,"id":2029,"nodeType":"Return","src":"3583:16:15"}]},"documentation":"@notice Creates a Chainlink request to the specified oracle address\n@dev Generates and stores a request ID, increments the local nonce, and uses `transferAndCall` to\nsend LINK which creates a request on the target oracle contract.\nEmits ChainlinkRequested event.\n@param _oracle The address of the oracle for the request\n@param _req The initialized Chainlink Request\n@param _payment The amount of LINK to send for the request\n@return The request ID","id":2031,"implemented":true,"kind":"function","modifiers":[],"name":"sendChainlinkRequestTo","nodeType":"FunctionDefinition","parameters":{"id":1982,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1977,"name":"_oracle","nodeType":"VariableDeclaration","scope":2031,"src":"3160:15:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1976,"name":"address","nodeType":"ElementaryTypeName","src":"3160:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1979,"name":"_req","nodeType":"VariableDeclaration","scope":2031,"src":"3177:29:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request"},"typeName":{"contractScope":null,"id":1978,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"3177:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}},"value":null,"visibility":"internal"},{"constant":false,"id":1981,"name":"_payment","nodeType":"VariableDeclaration","scope":2031,"src":"3208:16:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1980,"name":"uint256","nodeType":"ElementaryTypeName","src":"3208:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3159:66:15"},"returnParameters":{"id":1985,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1984,"name":"requestId","nodeType":"VariableDeclaration","scope":2031,"src":"3252:17:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1983,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3252:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"3251:19:15"},"scope":2300,"src":"3128:476:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2068,"nodeType":"Block","src":"4272:269:15","statements":[{"assignments":[2043],"declarations":[{"constant":false,"id":2043,"name":"requested","nodeType":"VariableDeclaration","scope":2068,"src":"4278:35:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"},"typeName":{"contractScope":null,"id":2042,"name":"ChainlinkRequestInterface","nodeType":"UserDefinedTypeName","referencedDeclaration":2333,"src":"4278:25:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"value":null,"visibility":"internal"}],"id":2049,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2045,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"4342:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2047,"indexExpression":{"argumentTypes":null,"id":2046,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2033,"src":"4358:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4342:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2044,"name":"ChainlinkRequestInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2333,"src":"4316:25:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ChainlinkRequestInterface_$2333_$","typeString":"type(contract ChainlinkRequestInterface)"}},"id":2048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4316:54:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"nodeType":"VariableDeclarationStatement","src":"4278:92:15"},{"expression":{"argumentTypes":null,"id":2053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"4376:34:15","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2050,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"4383:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2052,"indexExpression":{"argumentTypes":null,"id":2051,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2033,"src":"4399:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4383:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2054,"nodeType":"ExpressionStatement","src":"4376:34:15"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2056,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2033,"src":"4440:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2055,"name":"ChainlinkCancelled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"4421:18:15","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":2057,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4421:30:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2058,"nodeType":"EmitStatement","src":"4416:35:15"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2062,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2033,"src":"4487:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2063,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2035,"src":"4499:8:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2064,"name":"_callbackFunc","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2037,"src":"4509:13:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"argumentTypes":null,"id":2065,"name":"_expiration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2039,"src":"4524:11:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2059,"name":"requested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2043,"src":"4457:9:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"id":2061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"cancelOracleRequest","nodeType":"MemberAccess","referencedDeclaration":2332,"src":"4457:29:15","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_bytes32_$_t_uint256_$_t_bytes4_$_t_uint256_$returns$__$","typeString":"function (bytes32,uint256,bytes4,uint256) external"}},"id":2066,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4457:79:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2067,"nodeType":"ExpressionStatement","src":"4457:79:15"}]},"documentation":"@notice Allows a request to be cancelled if it has not been fulfilled\n@dev Requires keeping track of the expiration value emitted from the oracle contract.\nDeletes the request from the `pendingRequests` mapping.\nEmits ChainlinkCancelled event.\n@param _requestId The request ID\n@param _payment The amount of LINK sent for the request\n@param _callbackFunc The callback function specified for the request\n@param _expiration The time of the expiration for the request","id":2069,"implemented":true,"kind":"function","modifiers":[],"name":"cancelChainlinkRequest","nodeType":"FunctionDefinition","parameters":{"id":2040,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2033,"name":"_requestId","nodeType":"VariableDeclaration","scope":2069,"src":"4161:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2032,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4161:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":2035,"name":"_payment","nodeType":"VariableDeclaration","scope":2069,"src":"4185:16:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2034,"name":"uint256","nodeType":"ElementaryTypeName","src":"4185:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2037,"name":"_callbackFunc","nodeType":"VariableDeclaration","scope":2069,"src":"4207:20:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2036,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4207:6:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"},{"constant":false,"id":2039,"name":"_expiration","nodeType":"VariableDeclaration","scope":2069,"src":"4233:19:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2038,"name":"uint256","nodeType":"ElementaryTypeName","src":"4233:7:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4155:101:15"},"returnParameters":{"id":2041,"nodeType":"ParameterList","parameters":[],"src":"4272:0:15"},"scope":2300,"src":"4124:417:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2080,"nodeType":"Block","src":"4710:54:15","statements":[{"expression":{"argumentTypes":null,"id":2078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2074,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1914,"src":"4716:6:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2076,"name":"_oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2071,"src":"4751:7:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2075,"name":"ChainlinkRequestInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2333,"src":"4725:25:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ChainlinkRequestInterface_$2333_$","typeString":"type(contract ChainlinkRequestInterface)"}},"id":2077,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4725:34:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"src":"4716:43:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"id":2079,"nodeType":"ExpressionStatement","src":"4716:43:15"}]},"documentation":"@notice Sets the stored oracle address\n@param _oracle The address of the oracle contract","id":2081,"implemented":true,"kind":"function","modifiers":[],"name":"setChainlinkOracle","nodeType":"FunctionDefinition","parameters":{"id":2072,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2071,"name":"_oracle","nodeType":"VariableDeclaration","scope":2081,"src":"4684:15:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2070,"name":"address","nodeType":"ElementaryTypeName","src":"4684:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"4683:17:15"},"returnParameters":{"id":2073,"nodeType":"ParameterList","parameters":[],"src":"4710:0:15"},"scope":2300,"src":"4656:108:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2092,"nodeType":"Block","src":"4929:43:15","statements":[{"expression":{"argumentTypes":null,"id":2090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2086,"name":"link","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1912,"src":"4935:4:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2088,"name":"_link","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2083,"src":"4961:5:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2087,"name":"LinkTokenInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2508,"src":"4942:18:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LinkTokenInterface_$2508_$","typeString":"type(contract LinkTokenInterface)"}},"id":2089,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4942:25:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}},"src":"4935:32:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}},"id":2091,"nodeType":"ExpressionStatement","src":"4935:32:15"}]},"documentation":"@notice Sets the LINK token address\n@param _link The address of the LINK token contract","id":2093,"implemented":true,"kind":"function","modifiers":[],"name":"setChainlinkToken","nodeType":"FunctionDefinition","parameters":{"id":2084,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2083,"name":"_link","nodeType":"VariableDeclaration","scope":2093,"src":"4905:13:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2082,"name":"address","nodeType":"ElementaryTypeName","src":"4905:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"4904:15:15"},"returnParameters":{"id":2085,"nodeType":"ParameterList","parameters":[],"src":"4929:0:15"},"scope":2300,"src":"4878:94:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2104,"nodeType":"Block","src":"5139:79:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2098,"name":"LINK_TOKEN_POINTER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1906,"src":"5180:18:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2097,"name":"PointerInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2516,"src":"5163:16:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PointerInterface_$2516_$","typeString":"type(contract PointerInterface)"}},"id":2099,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5163:36:15","typeDescriptions":{"typeIdentifier":"t_contract$_PointerInterface_$2516","typeString":"contract PointerInterface"}},"id":2100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getAddress","nodeType":"MemberAccess","referencedDeclaration":2515,"src":"5163:47:15","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_address_$","typeString":"function () view external returns (address)"}},"id":2101,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5163:49:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2096,"name":"setChainlinkToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2093,"src":"5145:17:15","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":2102,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5145:68:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2103,"nodeType":"ExpressionStatement","src":"5145:68:15"}]},"documentation":"@notice Sets the Chainlink token address for the public\nnetwork as given by the Pointer contract","id":2105,"implemented":true,"kind":"function","modifiers":[],"name":"setPublicChainlinkToken","nodeType":"FunctionDefinition","parameters":{"id":2094,"nodeType":"ParameterList","parameters":[],"src":"5127:2:15"},"returnParameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"5139:0:15"},"scope":2300,"src":"5095:123:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2114,"nodeType":"Block","src":"5416:31:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2111,"name":"link","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1912,"src":"5437:4:15","typeDescriptions":{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LinkTokenInterface_$2508","typeString":"contract LinkTokenInterface"}],"id":2110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5429:7:15","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5429:13:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":2109,"id":2113,"nodeType":"Return","src":"5422:20:15"}]},"documentation":"@notice Retrieves the stored address of the LINK token\n@return The address of the LINK token","id":2115,"implemented":true,"kind":"function","modifiers":[],"name":"chainlinkTokenAddress","nodeType":"FunctionDefinition","parameters":{"id":2106,"nodeType":"ParameterList","parameters":[],"src":"5367:2:15"},"returnParameters":{"id":2109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2108,"name":"","nodeType":"VariableDeclaration","scope":2115,"src":"5405:7:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2107,"name":"address","nodeType":"ElementaryTypeName","src":"5405:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"5404:9:15"},"scope":2300,"src":"5337:110:15","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":2124,"nodeType":"Block","src":"5656:33:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2121,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1914,"src":"5677:6:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}],"id":2120,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5669:7:15","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5669:15:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":2119,"id":2123,"nodeType":"Return","src":"5662:22:15"}]},"documentation":"@notice Retrieves the stored address of the oracle contract\n@return The address of the oracle contract","id":2125,"implemented":true,"kind":"function","modifiers":[],"name":"chainlinkOracleAddress","nodeType":"FunctionDefinition","parameters":{"id":2116,"nodeType":"ParameterList","parameters":[],"src":"5607:2:15"},"returnParameters":{"id":2119,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2118,"name":"","nodeType":"VariableDeclaration","scope":2125,"src":"5645:7:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2117,"name":"address","nodeType":"ElementaryTypeName","src":"5645:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"5644:9:15"},"scope":2300,"src":"5576:113:15","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":2141,"nodeType":"Block","src":"6083:48:15","statements":[{"expression":{"argumentTypes":null,"id":2139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2135,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"6089:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2137,"indexExpression":{"argumentTypes":null,"id":2136,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2129,"src":"6105:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6089:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2138,"name":"_oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"6119:7:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6089:37:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2140,"nodeType":"ExpressionStatement","src":"6089:37:15"}]},"documentation":"@notice Allows for a request which was created on another contract to be fulfilled\non this contract\n@param _oracle The address of the oracle contract that will fulfill the request\n@param _requestId The request ID used for the response","id":2142,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":2132,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2129,"src":"6069:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":2133,"modifierName":{"argumentTypes":null,"id":2131,"name":"notPendingRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2299,"src":"6051:17:15","typeDescriptions":{"typeIdentifier":"t_modifier$_t_bytes32_$","typeString":"modifier (bytes32)"}},"nodeType":"ModifierInvocation","src":"6051:29:15"}],"name":"addChainlinkExternalRequest","nodeType":"FunctionDefinition","parameters":{"id":2130,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2127,"name":"_oracle","nodeType":"VariableDeclaration","scope":2142,"src":"5997:15:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2126,"name":"address","nodeType":"ElementaryTypeName","src":"5997:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2129,"name":"_requestId","nodeType":"VariableDeclaration","scope":2142,"src":"6014:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2128,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6014:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"5996:37:15"},"returnParameters":{"id":2134,"nodeType":"ParameterList","parameters":[],"src":"6083:0:15"},"scope":2300,"src":"5960:171:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2188,"nodeType":"Block","src":"6460:313:15","statements":[{"expression":{"argumentTypes":null,"id":2153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2149,"name":"ens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1908,"src":"6466:3:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2151,"name":"_ens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2144,"src":"6485:4:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2150,"name":"ENSInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2413,"src":"6472:12:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ENSInterface_$2413_$","typeString":"type(contract ENSInterface)"}},"id":2152,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6472:18:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"src":"6466:24:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"id":2154,"nodeType":"ExpressionStatement","src":"6466:24:15"},{"expression":{"argumentTypes":null,"id":2157,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2155,"name":"ensNode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1910,"src":"6496:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2156,"name":"_node","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2146,"src":"6506:5:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"6496:15:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2158,"nodeType":"ExpressionStatement","src":"6496:15:15"},{"assignments":[2160],"declarations":[{"constant":false,"id":2160,"name":"linkSubnode","nodeType":"VariableDeclaration","scope":2188,"src":"6517:19:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6517:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":2168,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2164,"name":"ensNode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1910,"src":"6566:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2165,"name":"ENS_TOKEN_SUBNAME","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1898,"src":"6575:17:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2162,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5498,"src":"6549:3:15","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2163,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"6549:16:15","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2166,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6549:44:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2161,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5505,"src":"6539:9:15","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2167,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6539:55:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"6517:77:15"},{"assignments":[2170],"declarations":[{"constant":false,"id":2170,"name":"resolver","nodeType":"VariableDeclaration","scope":2188,"src":"6600:30:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"},"typeName":{"contractScope":null,"id":2169,"name":"ENSResolver_Chainlink","nodeType":"UserDefinedTypeName","referencedDeclaration":3300,"src":"6600:21:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"value":null,"visibility":"internal"}],"id":2177,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2174,"name":"linkSubnode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2160,"src":"6668:11:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2172,"name":"ens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1908,"src":"6655:3:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"id":2173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"resolver","nodeType":"MemberAccess","referencedDeclaration":2405,"src":"6655:12:15","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_address_$","typeString":"function (bytes32) view external returns (address)"}},"id":2175,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6655:25:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2171,"name":"ENSResolver_Chainlink","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3300,"src":"6633:21:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ENSResolver_$3300_$","typeString":"type(contract ENSResolver)"}},"id":2176,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6633:48:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"nodeType":"VariableDeclarationStatement","src":"6600:81:15"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2181,"name":"linkSubnode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2160,"src":"6719:11:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2179,"name":"resolver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2170,"src":"6705:8:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"addr","nodeType":"MemberAccess","referencedDeclaration":3299,"src":"6705:13:15","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_address_$","typeString":"function (bytes32) view external returns (address)"}},"id":2182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6705:26:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2178,"name":"setChainlinkToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2093,"src":"6687:17:15","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":2183,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6687:45:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2184,"nodeType":"ExpressionStatement","src":"6687:45:15"},{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2185,"name":"updateChainlinkOracleWithENS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2219,"src":"6738:28:15","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6738:30:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2187,"nodeType":"ExpressionStatement","src":"6738:30:15"}]},"documentation":"@notice Sets the stored oracle and LINK token contracts with the addresses resolved by ENS\n@dev Accounts for subnodes having different resolvers\n@param _ens The address of the ENS contract\n@param _node The ENS node hash","id":2189,"implemented":true,"kind":"function","modifiers":[],"name":"useChainlinkWithENS","nodeType":"FunctionDefinition","parameters":{"id":2147,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2144,"name":"_ens","nodeType":"VariableDeclaration","scope":2189,"src":"6416:12:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2143,"name":"address","nodeType":"ElementaryTypeName","src":"6416:7:15","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2146,"name":"_node","nodeType":"VariableDeclaration","scope":2189,"src":"6430:13:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2145,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6430:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"6415:29:15"},"returnParameters":{"id":2148,"nodeType":"ParameterList","parameters":[],"src":"6460:0:15"},"scope":2300,"src":"6387:386:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2218,"nodeType":"Block","src":"7022:234:15","statements":[{"assignments":[2193],"declarations":[{"constant":false,"id":2193,"name":"oracleSubnode","nodeType":"VariableDeclaration","scope":2218,"src":"7028:21:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2192,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7028:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":2201,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2197,"name":"ensNode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1910,"src":"7079:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2198,"name":"ENS_ORACLE_SUBNAME","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1903,"src":"7088:18:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2195,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5498,"src":"7062:3:15","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2196,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7062:16:15","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2199,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7062:45:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2194,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5505,"src":"7052:9:15","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7052:56:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"7028:80:15"},{"assignments":[2203],"declarations":[{"constant":false,"id":2203,"name":"resolver","nodeType":"VariableDeclaration","scope":2218,"src":"7114:30:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"},"typeName":{"contractScope":null,"id":2202,"name":"ENSResolver_Chainlink","nodeType":"UserDefinedTypeName","referencedDeclaration":3300,"src":"7114:21:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"value":null,"visibility":"internal"}],"id":2210,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2207,"name":"oracleSubnode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2193,"src":"7182:13:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2205,"name":"ens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1908,"src":"7169:3:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSInterface_$2413","typeString":"contract ENSInterface"}},"id":2206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"resolver","nodeType":"MemberAccess","referencedDeclaration":2405,"src":"7169:12:15","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_address_$","typeString":"function (bytes32) view external returns (address)"}},"id":2208,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7169:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2204,"name":"ENSResolver_Chainlink","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3300,"src":"7147:21:15","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ENSResolver_$3300_$","typeString":"type(contract ENSResolver)"}},"id":2209,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7147:50:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"nodeType":"VariableDeclarationStatement","src":"7114:83:15"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2214,"name":"oracleSubnode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2193,"src":"7236:13:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2212,"name":"resolver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"7222:8:15","typeDescriptions":{"typeIdentifier":"t_contract$_ENSResolver_$3300","typeString":"contract ENSResolver"}},"id":2213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"addr","nodeType":"MemberAccess","referencedDeclaration":3299,"src":"7222:13:15","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_address_$","typeString":"function (bytes32) view external returns (address)"}},"id":2215,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7222:28:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2211,"name":"setChainlinkOracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2081,"src":"7203:18:15","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":2216,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7203:48:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2217,"nodeType":"ExpressionStatement","src":"7203:48:15"}]},"documentation":"@notice Sets the stored oracle contract with the address resolved by ENS\n@dev This may be called on its own as long as `useChainlinkWithENS` has been called previously","id":2219,"implemented":true,"kind":"function","modifiers":[],"name":"updateChainlinkOracleWithENS","nodeType":"FunctionDefinition","parameters":{"id":2190,"nodeType":"ParameterList","parameters":[],"src":"7004:2:15"},"returnParameters":{"id":2191,"nodeType":"ParameterList","parameters":[],"src":"7022:0:15"},"scope":2300,"src":"6967:289:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2247,"nodeType":"Block","src":"7712:423:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2228,"name":"oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1914,"src":"7755:6:15","typeDescriptions":{"typeIdentifier":"t_contract$_ChainlinkRequestInterface_$2333","typeString":"contract ChainlinkRequestInterface"}},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"oracleRequest","nodeType":"MemberAccess","referencedDeclaration":2321,"src":"7755:20:15","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$_t_bytes32_$_t_address_$_t_bytes4_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,uint256,bytes32,address,bytes4,uint256,uint256,bytes memory) external"}},"id":2230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"selector","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7755:29:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"argumentTypes":null,"id":2231,"name":"SENDER_OVERRIDE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1890,"src":"7792:15:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2232,"name":"AMOUNT_OVERRIDE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1885,"src":"7900:15:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2233,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2221,"src":"8005:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":2234,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":1623,"src":"8005:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2235,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2221,"src":"8020:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":2236,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"callbackAddress","nodeType":"MemberAccess","referencedDeclaration":1625,"src":"8020:20:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2237,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2221,"src":"8048:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":2238,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"callbackFunctionId","nodeType":"MemberAccess","referencedDeclaration":1627,"src":"8048:23:15","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2239,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2221,"src":"8079:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":2240,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"nonce","nodeType":"MemberAccess","referencedDeclaration":1629,"src":"8079:10:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2241,"name":"ARGS_VERSION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1893,"src":"8097:12:15","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2242,"name":"_req","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2221,"src":"8117:4:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request memory"}},"id":2243,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"buf","nodeType":"MemberAccess","referencedDeclaration":1631,"src":"8117:8:15","typeDescriptions":{"typeIdentifier":"t_struct$_buffer_$2523_memory","typeString":"struct Buffer.buffer memory"}},"id":2244,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"buf","nodeType":"MemberAccess","referencedDeclaration":2520,"src":"8117:12:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":2226,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5498,"src":"7725:3:15","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2227,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodeWithSelector","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7725:22:15","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithselector_pure$_t_bytes4_$returns$_t_bytes_memory_ptr_$","typeString":"function (bytes4) pure returns (bytes memory)"}},"id":2245,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7725:405:15","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":2225,"id":2246,"nodeType":"Return","src":"7718:412:15"}]},"documentation":"@notice Encodes the request to be sent to the oracle contract\n@dev The Chainlink node expects values to be in order for the request to be picked up. Order of types\nwill be validated in the oracle contract.\n@param _req The initialized Chainlink Request\n@return The bytes payload for the `transferAndCall` method","id":2248,"implemented":true,"kind":"function","modifiers":[],"name":"encodeRequest","nodeType":"FunctionDefinition","parameters":{"id":2222,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2221,"name":"_req","nodeType":"VariableDeclaration","scope":2248,"src":"7631:29:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_memory_ptr","typeString":"struct Chainlink.Request"},"typeName":{"contractScope":null,"id":2220,"name":"Chainlink.Request","nodeType":"UserDefinedTypeName","referencedDeclaration":1632,"src":"7631:17:15","typeDescriptions":{"typeIdentifier":"t_struct$_Request_$1632_storage_ptr","typeString":"struct Chainlink.Request"}},"value":null,"visibility":"internal"}],"src":"7630:31:15"},"returnParameters":{"id":2225,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2224,"name":"","nodeType":"VariableDeclaration","scope":2248,"src":"7696:12:15","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2223,"name":"bytes","nodeType":"ElementaryTypeName","src":"7696:5:15","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"7695:14:15"},"scope":2300,"src":"7608:527:15","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2256,"nodeType":"Block","src":"8528:2:15","statements":[]},"documentation":"@notice Ensures that the fulfillment is valid for this contract\n@dev Use if the contract developer prefers methods instead of modifiers for validation\n@param _requestId The request ID for fulfillment","id":2257,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"id":2253,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"8465:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":2254,"modifierName":{"argumentTypes":null,"id":2252,"name":"recordChainlinkFulfillment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2282,"src":"8438:26:15","typeDescriptions":{"typeIdentifier":"t_modifier$_t_bytes32_$","typeString":"modifier (bytes32)"}},"nodeType":"ModifierInvocation","src":"8438:38:15"}],"name":"validateChainlinkCallback","nodeType":"FunctionDefinition","parameters":{"id":2251,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2250,"name":"_requestId","nodeType":"VariableDeclaration","scope":2257,"src":"8401:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2249,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8401:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"8400:20:15"},"returnParameters":{"id":2255,"nodeType":"ParameterList","parameters":[],"src":"8528:0:15"},"scope":2300,"src":"8366:164:15","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2281,"nodeType":"Block","src":"8759:193:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2262,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5511,"src":"8773:3:15","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8773:10:15","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2264,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"8787:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2266,"indexExpression":{"argumentTypes":null,"id":2265,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2259,"src":"8803:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8787:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8773:41:15","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"536f75726365206d75737420626520746865206f7261636c65206f66207468652072657175657374","id":2268,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8816:42:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_d5cafe2745dab6273b51cca76f8727c7664db74ede49af049a5b5ca6a3b184e4","typeString":"literal_string \"Source must be the oracle of the request\""},"value":"Source must be the oracle of the request"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d5cafe2745dab6273b51cca76f8727c7664db74ede49af049a5b5ca6a3b184e4","typeString":"literal_string \"Source must be the oracle of the request\""}],"id":2261,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5514,5515],"referencedDeclaration":5515,"src":"8765:7:15","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2269,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8765:94:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2270,"nodeType":"ExpressionStatement","src":"8765:94:15"},{"expression":{"argumentTypes":null,"id":2274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"8865:34:15","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2271,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"8872:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2273,"indexExpression":{"argumentTypes":null,"id":2272,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2259,"src":"8888:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8872:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2275,"nodeType":"ExpressionStatement","src":"8865:34:15"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2277,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2259,"src":"8929:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2276,"name":"ChainlinkFulfilled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1929,"src":"8910:18:15","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":2278,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8910:30:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2279,"nodeType":"EmitStatement","src":"8905:35:15"},{"id":2280,"nodeType":"PlaceholderStatement","src":"8946:1:15"}]},"documentation":"@dev Reverts if the sender is not the oracle of the request.\nEmits ChainlinkFulfilled event.\n@param _requestId The request ID for fulfillment","id":2282,"name":"recordChainlinkFulfillment","nodeType":"ModifierDefinition","parameters":{"id":2260,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2259,"name":"_requestId","nodeType":"VariableDeclaration","scope":2282,"src":"8739:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2258,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8739:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"8738:20:15"},"src":"8703:249:15","visibility":"internal"},{"body":{"id":2298,"nodeType":"Block","src":"9121:98:15","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2293,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2287,"name":"pendingRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1921,"src":"9135:15:15","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_address_$","typeString":"mapping(bytes32 => address)"}},"id":2289,"indexExpression":{"argumentTypes":null,"id":2288,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2284,"src":"9151:10:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9135:27:15","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2291,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9174:1:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2290,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9166:7:15","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2292,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9166:10:15","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"9135:41:15","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"5265717565737420697320616c72656164792070656e64696e67","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9178:28:15","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_efa688de2ca2442cd2f76ca864c7a15bdcb24ac77ed3de01d4cf9f6afd58c7aa","typeString":"literal_string \"Request is already pending\""},"value":"Request is already pending"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_efa688de2ca2442cd2f76ca864c7a15bdcb24ac77ed3de01d4cf9f6afd58c7aa","typeString":"literal_string \"Request is already pending\""}],"id":2286,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5514,5515],"referencedDeclaration":5515,"src":"9127:7:15","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9127:80:15","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2296,"nodeType":"ExpressionStatement","src":"9127:80:15"},{"id":2297,"nodeType":"PlaceholderStatement","src":"9213:1:15"}]},"documentation":"@dev Reverts if the request is already pending\n@param _requestId The request ID for fulfillment","id":2299,"name":"notPendingRequest","nodeType":"ModifierDefinition","parameters":{"id":2285,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2284,"name":"_requestId","nodeType":"VariableDeclaration","scope":2299,"src":"9101:18:15","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2283,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9101:7:15","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"9100:20:15"},"src":"9074:145:15","visibility":"internal"}],"scope":2301,"src":"546:8675:15"}],"src":"0:9222:15"},"bytecode":"0x608060405260016004600050909055348015601a5760006000fd5b50601f565b604780602c6000396000f3fe608060405260043610600c575b60006000fdfea265627a7a72315820efe1675afcb192c983218a7322007edbb5fb5b73e7edb8e8c3a0b886be215d6664736f6c634300050b0032","deployedBytecode":"0x608060405260043610600c575b60006000fdfea265627a7a72315820efe1675afcb192c983218a7322007edbb5fb5b73e7edb8e8c3a0b886be215d6664736f6c634300050b0032","compiler":{"name":"solc","version":"0.5.11+commit.c082d0b4.Emscripten.clang","optimizer":{},"evmVersion":"constantinople"},"networks":{}}
